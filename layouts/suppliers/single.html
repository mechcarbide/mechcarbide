{{- define "main" }}
<article class="post-single">
  <header class="post-header">
    {{ partial "breadcrumbs.html" . }}
    <h1 class="post-title entry-hint-parent" style="color: #ff7b54;">
      {{ .Title }}
      {{- if .Draft }}
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="35" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
      {{- end }}
    </h1>

    {{- if not (.Param "hideMeta") }}
    <div class="post-meta">
      {{- partial "post_meta.html" . -}}
      {{- partial "translation_list.html" . -}}
      {{- partial "edit_post.html" . -}}
      {{- partial "post_canonical.html" . -}}
    </div>
    {{- end }}
  </header>
  {{- $isHidden := (.Param "cover.hiddenInSingle") | default (.Param "cover.hidden") | default false }}
  {{- partial "cover.html" (dict "cxt" . "IsSingle" true "isHidden" $isHidden) }}
  {{- if (.Param "ShowToc") }}
  {{- partial "toc.html" . }}
  {{- end }}

  {{- if .Content }}
  <div class="post-content">
    {{- if not (.Param "disableAnchoredHeadings") }}
    {{- partial "anchored_headings.html" .Content -}}
    {{- else }}{{ .Content }}{{ end }}
  </div>
  {{- end }}

  <p style="margin-top: 1.5rem; font-size: 0.95rem; color: #555;">
    *Disclaimer: The information provided on this page is compiled from the supplier's official website and other public sources for general reference only. While MechCarbide strives to ensure the accuracy and timeliness of the content, we make no warranties or representations regarding the completeness or reliability of the information.<br>
    MechCarbide is not affiliated with the supplier listed above and assumes no liability for any business transactions or disputes that may arise. We strongly recommend that you conduct your own due diligence and verify all details, including product specifications and certifications, directly with the supplier before making any purchasing decisions.
  </p>
  
  <div class="supplier-metadata">
    {{- $page := . -}}
    {{- $site := .Site -}}

    {{- with $page.Params.categories -}}
    <div class="meta-item">
        <span class="meta-label">Categories:</span>
        {{- range . -}}
            {{- $cat_slug := . | urlize -}}
            {{- $cat_page := $site.GetPage (printf "/categories/%s" $cat_slug) -}}
            {{- if $cat_page -}}
                <a href="{{ $cat_page.Permalink }}" class="category-tag">{{ $cat_page.Title }}</a>
            {{- else -}}
                <span class="category-tag">{{ . | title }}</span>
            {{- end -}}
        {{- end -}}
    </div>
    {{- end -}}

    {{- with $page.Params.regions -}}
    <div class="meta-item">
    <span class="meta-label">Location:</span>
    {{- $regions := $page.Params.regions -}}
    
    {{- $regionList := slice -}}
    {{- if printf "%T" $regions | eq "string" -}}
        {{- $regionList = slice $regions -}}
    {{- else -}}
        {{- $regionList = $regions -}}
    {{- end -}}

    {{- range $regionList -}}
        {{- $reg_slug := . | urlize -}}
        {{- $reg_page := $site.GetPage (printf "/regions/%s" $reg_slug) -}}
        {{- if $reg_page -}}
            <a href="{{ $reg_page.Permalink }}" class="tag-region">üìç {{ $reg_page.LinkTitle }}</a>
        {{- else -}}
            <span class="tag-region">üìç {{ . | title }}</span>
        {{- end -}}
    {{- end -}}
    </div>
    {{- end -}}
  </div>

  <footer class="post-footer">
    <div class="supplier-cta">
    Want to be featured as a top supplier?
    Contact us at: <a href="mailto:mechcarbide@zohomail.com" style="color: #555;">mechcarbide@zohomail.com</a> for details.
    </div>


    {{- if (and site.Params.ShowShareButtons (ne .Params.disableShare true)) }}
    {{- partial "share_icons.html" . -}}
    {{- end }}
  </footer>

  {{- if (.Param "comments") }}
  {{- partial "comments.html" . }}
  {{- end }}
</article>

{{- end }}{{/* end main */}}
